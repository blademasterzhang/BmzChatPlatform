<ion-header>
  <ion-navbar>
    <ion-title>
      {{userInfos[1].realName}}
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="content-scroll" id="chat-autoscroll" style="height: 100%; overflow-y: scroll">
    <ion-grid>
      <ion-row *ngFor="let item of chats">
          <ion-col col-2>
            <ion-thumbnail item-start *ngIf="item.userCode== userInfos[1].userCode">
              <img src="{{userInfos[1].avatar}}">
            </ion-thumbnail>
          </ion-col>
          <ion-col col-8>
            <span class="chat-message" *ngIf="item.userCode== userInfos[1].userCode">{{item.message}}</span>
            <span class="chat-message right-chat-message" *ngIf="item.userCode== userInfos[0].userCode">{{item.message}}</span>
          </ion-col>
          <ion-col col-2>
            <ion-thumbnail item-start *ngIf="item.userCode== userInfos[0].userCode">
              <img src="{{userInfos[0].avatar}}">
            </ion-thumbnail>
          </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <elastic-textarea #txtChat id="ionTxtArea" lineHeight="20" maxExpand="5"></elastic-textarea>
    <!--<ion-input type="text" [(ngModel)]="chat_input" ></ion-input>-->
    <ion-buttons [ngSwitch]="wordOrEmpty" end>
      <button ion-button icon-right color="royal" *ngSwitchCase="'word'" (click)="send()">
        发送
        <ion-icon name="send"></ion-icon>
      </button>

      <button ion-button icon-right color="royal" *ngSwitchCase="'empty'" (click)="extend()">
        展开
        <ion-icon name="logo-dribbble"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
  <ion-toolbar id="extend-form" class="hidden">
    <ion-grid id="chat-ion-grid">
      <ion-row>
        <ion-col center text-center col-3>
          <button ion-button icon-left big (click)="sendImage()">
            <ion-icon class="big-icon" name="image"></ion-icon>
            <div>照片</div>
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-footer>